<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
"http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta name="generator" content=
  "HTML Tidy for HTML5 for Linux version 5.6.0">
  <title>Screen Manipulation</title>
  <meta name="GENERATOR" content=
  "Modular DocBook HTML Stylesheet Version 1.79">
  <link rel="HOME" title=" NCURSES Programming HOWTO " href=
  "index.html">
  <link rel="PREVIOUS" title="Interfacing with the mouse " href=
  "mouse.html">
  <link rel="NEXT" title="Miscellaneous features" href="misc.html">
</head>
<body class="SECT1" bgcolor="#FFFFFF" text="#000000" link="#0000FF"
vlink="#840084" alink="#0000FF">
  <div class="NAVHEADER">
    <table summary="Header navigation table" width="100%" border=
    "0" cellpadding="0" cellspacing="0">
      <tr>
        <th colspan="3" align="center">NCURSES Programming
        HOWTO</th>
      </tr>

      <tr>
        <td width="10%" align="left" valign="bottom"><a href=
        "mouse.html" accesskey="P">Prev</a>
        </td>
        <td width="80%" align="center" valign="bottom">
        </td>
        <td width="10%" align="right" valign="bottom"><a href=
        "misc.html" accesskey="N">Next</a>
        </td>
      </tr>
    </table>

    <hr align="left" width="100%">
  </div>

  <div class="SECT1">
    <h1 class="SECT1"><a name="SCREEN" id="SCREEN">13. Screen
    Manipulation</a></h1>

    <p>In this section, we will look into some functions, which
    allow us to manage the screen efficiently and to write some
    fancy programs. This is especially important in writing
    games.</p>

    <div class="SECT2">
      <h2 class="SECT2"><a name="GETYX" id="GETYX">13.1. getyx()
      functions</a></h2>

      <p>The function <tt class="LITERAL">getyx()</tt> can be used
      to find out the present cursor co-ordinates. It will fill the
      values of x and y co-ordinates in the arguments given to it.
      Since getyx() is a macro you don't have to pass the address
      of the variables. It can be called as</p>

      <pre class="PROGRAMLISTING">    getyx(win, y, x);
    /* win: window pointer
     *   y, x: y, x co-ordinates will be put into this variables
     */</pre>
      <p>The function getparyx() gets the beginning co-ordinates of
      the sub window relative to the main window. This is some
      times useful to update a sub window. When designing fancy
      stuff like writing multiple menus, it becomes difficult to
      store the menu positions, their first option co-ordinates,
      etc. A simple solution to this problem, is to create menus in
      sub windows and later find the starting co-ordinates of the
      menus by using getparyx().</p>

      <p>The functions getbegyx() and getmaxyx() store current
      window's beginning and maximum co-ordinates. These functions
      are useful in the same way as above in managing the windows
      and sub windows effectively.</p>
    </div>

    <div class="SECT2">
      <h2 class="SECT2"><a name="SCREENDUMP" id="SCREENDUMP">13.2.
      Screen Dumping</a></h2>

      <p>While writing games, some times it becomes necessary to
      store the state of the screen and restore it back to the same
      state. The function scr_dump() can be used to dump the screen
      contents to a file given as an argument. Later it can be
      restored by scr_restore function. These two simple functions
      can be used effectively to maintain a fast moving game with
      changing scenarios.</p>
    </div>

    <div class="SECT2">
      <h2 class="SECT2"><a name="WINDOWDUMP" id="WINDOWDUMP">13.3.
      Window Dumping</a></h2>

      <p>To store and restore windows, the functions <tt class=
      "LITERAL">putwin()</tt> and <tt class="LITERAL">getwin()</tt>
      can be used. <tt class="LITERAL">putwin()</tt> puts the
      present window state into a file, which can be later restored
      by <tt class="LITERAL">getwin()</tt>.</p>

      <p>The function <tt class="LITERAL">copywin()</tt> can be
      used to copy a window completely onto another window. It
      takes the source and destination windows as parameters and
      according to the rectangle specified, it copies the
      rectangular region from source to destination window. Its
      last parameter specifies whether to overwrite or just overlay
      the contents on to the destination window. If this argument
      is true, then the copying is non-destructive.</p>
    </div>
  </div>

  <div class="NAVFOOTER">
    <hr align="left" width="100%">

    <table summary="Footer navigation table" width="100%" border=
    "0" cellpadding="0" cellspacing="0">
      <tr>
        <td width="33%" align="left" valign="top"><a href=
        "mouse.html" accesskey="P">Prev</a>
        </td>
        <td width="34%" align="center" valign="top"><a href=
        "index.html" accesskey="H">Home</a>
        </td>
        <td width="33%" align="right" valign="top"><a href=
        "misc.html" accesskey="N">Next</a>
        </td>
      </tr>

      <tr>
        <td width="33%" align="left" valign="top">Interfacing with
        the mouse</td>
        <td width="34%" align="center" valign="top">&nbsp;</td>
        <td width="33%" align="right" valign="top">Miscellaneous
        features</td>
      </tr>
    </table>
  </div>
</body>
</html>
